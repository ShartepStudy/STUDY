; поток1
mov ax, g;               в регистр помещается значение переменной g
inc ax;                  значение регистра увеличивается на 1
mov g, ax;               в переменную g копируется значение регистра

; поток2
mov ax, g;               в регистр помещается значение переменной g
inc ax;                  значение регистра увеличивается на 1
mov g, ax;               в переменную g копируется значение регистра

..................................

MOV EAX, g;     выполняется поток 1 - в регистр помещается 0 
INC EAX;        выполняется поток 1 - значение регистра увеличивается на 1 
MOV EAX, g;     выполняется поток 2 - в регистр помещается 0 
INC EAX;        выполняется поток 2 - значение регистра увеличивается на 1 
MOV g, EAX;     выполняется поток 1 - значение 1 помещается в переменную g 
MOV g, EAX;     выполняется поток 2 - значение 1 помещается в переменную g


